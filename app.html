<!DOCTYPE html>
<!--
    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë                    PUREFREQUENZE                          ‚ïë
    ‚ïë                                                           ‚ïë
    ‚ïë  Frequenze Solfeggio e Battimenti Binaurali              ‚ïë
    ‚ïë  per Benessere, Meditazione e Relax                      ‚ïë
    ‚ïë                                                           ‚ïë
    ‚ïë  Versione: 2.0 Professional                              ‚ïë
    ‚ïë  Sistema: Freemium (Stripe + Firebase)                   ‚ïë
    ‚ïë  Default: FREE (isPremium = false)                       ‚ïë
    ‚ïë                                                           ‚ïë
    ‚ïë  FREE: 3 freq + 10 tracce + tutti binaurali             ‚ïë
    ‚ïë  PREMIUM: 9 freq + 25 tracce + applicazioni             ‚ïë
    ‚ïë                                                           ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
-->
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PureFrequenze - Frequenze Solfeggio e Binaurali per il Benessere</title>
    <meta name="description" content="Scopri il potere delle frequenze Solfeggio e dei battimenti binaurali. Meditazione, rilassamento e benessere attraverso il suono.">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-functions-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-bg: #0a0e27;
    --secondary-bg: #16213e;
    --accent-color: #0f3460;
    --highlight: #e94560;
    --text-primary: #ffffff;
    --text-secondary: #a8b2d1;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
    color: var(--text-primary);
    line-height: 1.6;
    min-height: 100vh;
    overflow-x: hidden;
}

.app-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
}

/* HEADER */
header {
    background: rgba(22, 33, 62, 0.95);
    backdrop-filter: blur(10px);
    padding: 20px;
    border-bottom: 2px solid var(--accent-color);
    position: sticky;
    top: 0;
    z-index: 100;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 15px;
}

.logo {
    font-size: 28px;
    font-weight: 700;
    color: var(--highlight);
    text-shadow: 0 0 20px rgba(233, 69, 96, 0.5);
}

.auth-section {
    display: flex;
    align-items: center;
    gap: 15px;
}

.user-info {
    display: flex;
    align-items: center;
    gap: 10px;
}

.user-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 2px solid var(--highlight);
}

.btn {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 14px;
}

.btn-primary {
    background: linear-gradient(135deg, var(--highlight), #c71f37);
    color: white;
    box-shadow: 0 4px 15px rgba(233, 69, 96, 0.3);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(233, 69, 96, 0.5);
}

.btn-secondary {
    background: transparent;
    border: 2px solid var(--highlight);
    color: var(--highlight);
}

.btn-secondary:hover {
    background: rgba(233, 69, 96, 0.1);
}

.btn-login {
    background: linear-gradient(135deg, #4285f4, #357ae8);
    color: white;
}

.btn-login:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(66, 133, 244, 0.4);
}

/* HERO SECTION */
.hero {
    text-align: center;
    padding: 60px 20px;
    max-width: 900px;
    margin: 0 auto;
}

.hero h1 {
    font-size: 42px;
    margin-bottom: 20px;
    background: linear-gradient(135deg, var(--highlight), #ff6b9d);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.hero-subtitle {
    font-size: 20px;
    color: var(--text-secondary);
    margin-bottom: 15px;
    line-height: 1.8;
}

.hero-divider {
    width: 80px;
    height: 4px;
    background: linear-gradient(90deg, var(--highlight), transparent);
    margin: 30px auto;
}

.feature-box {
    background: rgba(22, 33, 62, 0.6);
    border: 2px solid var(--accent-color);
    border-radius: 16px;
    padding: 40px;
    margin-top: 40px;
}

.feature-title {
    font-size: 16px;
    color: var(--highlight);
    margin-bottom: 25px;
    text-transform: uppercase;
    letter-spacing: 3px;
    font-weight: 700;
}

.feature-list {
    list-style: none;
    text-align: left;
    max-width: 350px;
    margin: 0 auto 30px;
}

.feature-list li {
    padding: 12px 0;
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 16px;
}

.feature-list li::before {
    content: '‚úì';
    color: var(--highlight);
    font-weight: bold;
    font-size: 20px;
}

/* TABS */
.tabs {
    display: flex;
    gap: 15px;
    margin: 50px 0 40px;
    border-bottom: 2px solid var(--accent-color);
    overflow-x: auto;
}

.tab {
    padding: 15px 30px;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    transition: all 0.3s;
    border-bottom: 3px solid transparent;
    white-space: nowrap;
}

.tab:hover {
    color: var(--highlight);
}

.tab.active {
    color: var(--highlight);
    border-bottom-color: var(--highlight);
}

.tab-content {
    display: none;
    animation: fadeIn 0.5s;
}

.tab-content.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}

/* GRID */
.frequency-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 30px;
    margin-bottom: 50px;
}

/* CARDS */
.frequency-card {
    background: rgba(22, 33, 62, 0.8);
    border-radius: 20px;
    padding: 30px;
    border: 2px solid var(--accent-color);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
}

.frequency-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, transparent, rgba(233, 69, 96, 0.1));
    opacity: 0;
    transition: opacity 0.3s;
}

.frequency-card:hover::before {
    opacity: 1;
}

.frequency-card:hover {
    transform: translateY(-10px) scale(1.02);
    border-color: var(--highlight);
    box-shadow: 0 15px 40px rgba(233, 69, 96, 0.3);
}

.frequency-card.premium-locked {
    opacity: 0.6;
    filter: blur(3px);
    cursor: pointer;
}

.frequency-card.premium-locked::after {
    content: 'üîí PREMIUM';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, var(--highlight), #c71f37);
    color: white;
    padding: 12px 24px;
    border-radius: 10px;
    font-weight: 700;
    font-size: 15px;
    z-index: 10;
    box-shadow: 0 4px 20px rgba(233, 69, 96, 0.5);
}

.card-header {
    margin-bottom: 20px;
}

.card-title {
    font-size: 24px;
    font-weight: 700;
    color: var(--highlight);
    margin-bottom: 10px;
}

.card-description {
    font-size: 15px;
    color: var(--text-secondary);
}

.track-list {
    margin-top: 25px;
}

.track-item {
    padding: 15px;
    background: rgba(15, 52, 96, 0.4);
    border-radius: 10px;
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s;
}

.track-item:hover {
    background: rgba(15, 52, 96, 0.7);
    transform: translateX(5px);
}

.track-name {
    font-size: 15px;
    color: var(--text-primary);
    font-weight: 500;
}

.btn-play {
    padding: 10px 20px;
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 700;
    transition: all 0.3s;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.btn-play:hover {
    transform: scale(1.1);
    box-shadow: 0 5px 15px rgba(16, 185, 129, 0.4);
}

/* PLAYER */
.player {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(10, 14, 39, 0.98);
    backdrop-filter: blur(25px);
    padding: 25px;
    border-top: 3px solid var(--highlight);
    display: none;
    z-index: 200;
}

.player.active {
    display: block;
    animation: slideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes slideUp {
    from { transform: translateY(100%); }
    to { transform: translateY(0); }
}

.player-info {
    text-align: center;
    margin-bottom: 20px;
    color: var(--highlight);
    font-weight: 700;
    font-size: 16px;
}

.player-controls {
    display: flex;
    justify-content: center;
    gap: 20px;
}

.player-btn {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: none;
    background: linear-gradient(135deg, var(--highlight), #c71f37);
    color: white;
    font-size: 24px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 5px 20px rgba(233, 69, 96, 0.4);
}

.player-btn:hover {
    transform: scale(1.15);
    box-shadow: 0 8px 30px rgba(233, 69, 96, 0.6);
}

/* MODAL */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.92);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.modal.active {
    display: flex;
    animation: fadeIn 0.3s;
}

.modal-content {
    background: linear-gradient(135deg, var(--primary-bg), var(--secondary-bg));
    padding: 50px;
    border-radius: 24px;
    max-width: 550px;
    width: 100%;
    text-align: center;
    border: 3px solid var(--highlight);
    position: relative;
    box-shadow: 0 20px 60px rgba(233, 69, 96, 0.4);
}

.modal-close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-size: 28px;
    cursor: pointer;
    transition: all 0.3s;
}

.modal-close:hover {
    color: var(--highlight);
    transform: rotate(90deg);
}

.modal-content h2 {
    font-size: 32px;
    background: linear-gradient(135deg, var(--highlight), #ff6b9d);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 30px;
}

.premium-features {
    text-align: left;
    margin: 35px 0;
    list-style: none;
}

.premium-features li {
    padding: 15px 0;
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: 15px;
    font-size: 17px;
}

.premium-features li::before {
    content: '‚úì';
    color: var(--highlight);
    font-weight: bold;
    font-size: 24px;
}

.price {
    font-size: 56px;
    background: linear-gradient(135deg, var(--highlight), #ff6b9d);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin: 35px 0;
    font-weight: 700;
}

.price small {
    font-size: 22px;
    color: var(--text-secondary);
}

/* FOOTER */
footer {
    text-align: center;
    padding: 50px 20px;
    color: var(--text-secondary);
    font-size: 13px;
    border-top: 2px solid var(--accent-color);
    margin-top: 100px;
}

footer p {
    margin: 8px 0;
}

.hidden {
    display: none !important;
}

/* RESPONSIVE */
@media (max-width: 768px) {
    header {
        flex-direction: column;
        text-align: center;
    }
    
    .hero h1 {
        font-size: 32px;
    }
    
    .frequency-grid {
        grid-template-columns: 1fr;
    }
    
    .tabs {
        justify-content: flex-start;
    }
}
</style>
</head>
<body>
    <header>
        <div class="logo">üéµ PureFrequenze</div>
        <div class="auth-section">
            <div id="userSection" class="hidden">
                <div class="user-info">
                    <img id="userAvatar" class="user-avatar" src="" alt="User">
                    <span id="userName"></span>
                    <button class="btn btn-secondary" onclick="logout()">Logout</button>
                </div>
            </div>
            <div id="loginSection">
                <button class="btn btn-login" onclick="loginWithGoogle()">Accedi</button>
            </div>
            <button class="btn btn-primary" onclick="showUpgradeModal()" id="upgradeBtn">‚ú® Diventa Premium</button>
        </div>
    </header>

    <div class="app-container">
        <!-- HERO -->
        <section class="hero">
            <h1>Mettiti comodo e ascolta.</h1>
            <p class="hero-subtitle">Frequenze audio per meditazione, focus e benessere.</p>
            <p class="hero-subtitle">Rilassati e trova il tuo equilibrio.</p>
            
            <div class="hero-divider"></div>
            
            <div class="feature-box">
                <h2 class="feature-title">Versione Free</h2>
                <ul class="feature-list">
                    <li>3 Frequenze Solfeggio</li>
                    <li>10 Audio Ottimizzati</li>
                    <li>Frequenze Binaurali</li>
                </ul>
                <button class="btn btn-primary" onclick="showUpgradeModal()">‚ú® Scopri Premium</button>
            </div>
        </section>

        <!-- TABS -->
        <div class="tabs">
            <button class="tab active" onclick="switchTab('solfeggio')">Frequenze Solfeggio</button>
            <button class="tab" onclick="switchTab('binaurali')">Frequenze Binaurali</button>
            <button class="tab" onclick="switchTab('applicazioni')">Applicazioni</button>
        </div>

        <!-- TAB CONTENTS -->
        <div id="solfeggio" class="tab-content active">
            <div class="frequency-grid" id="solfeggioGrid"></div>
        </div>

        <div id="binaurali" class="tab-content">
            <div class="frequency-grid" id="binauraliGrid"></div>
        </div>

        <div id="applicazioni" class="tab-content">
            <div class="frequency-grid" id="applicazioniGrid"></div>
        </div>
    </div>

    <!-- PLAYER -->
    <div class="player" id="player">
        <div class="player-info" id="nowPlaying">Nessuna traccia in riproduzione</div>
        <div class="player-controls">
            <button class="player-btn" onclick="player.pause()">‚è∏</button>
            <button class="player-btn" onclick="player.play()">‚ñ∂</button>
            <button class="player-btn" onclick="stopPlayer()">‚èπ</button>
        </div>
        <audio id="audioPlayer"></audio>
    </div>

    <!-- MODAL PREMIUM -->
    <div class="modal" id="upgradeModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeUpgradeModal()">‚úï</button>
            <h2>‚ú® PureFrequenze Premium</h2>
            <ul class="premium-features">
                <li>Accesso a tutte le 9 frequenze Solfeggio</li>
                <li>25+ tracce audio ottimizzate</li>
                <li>Applicazioni terapeutiche esclusive</li>
                <li>Modalit√† offline</li>
                <li>Nuove frequenze ogni mese</li>
                <li>Supporto prioritario</li>
            </ul>
            <div class="price">‚Ç¨5<small>/mese</small></div>
            <button class="btn btn-primary" onclick="upgradeToPremium()" style="width: 100%; padding: 18px; font-size: 16px;">
                Continua con Stripe
            </button>
            <br><br>
            <button class="btn btn-secondary" onclick="closeUpgradeModal()">Annulla</button>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <p>¬© 2026 PureFrequenze - Progetto di Alessandro Macco</p>
        <p>P.IVA 10047100010 | Via Mompantero 22, 10093 Collegno (TO)</p>
    </footer>

    <script>
        // ==================== FIREBASE INIT ====================
        const firebaseConfig = {
            apiKey: "AIzaSyB9xmneVbtdA_W7Nno6hcDA_nBLfS4ns-w",
            authDomain: "purefrequenze-35ff7.firebaseapp.com",
            projectId: "purefrequenze-35ff7",
            storageBucket: "purefrequenze-35ff7.firebasestorage.app",
            messagingSenderId: "895586868188",
            appId: "1:895586868188:web:5929cb5b482ab3bc93cd19"
        };
        
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const functions = firebase.functions();
        const db = firebase.firestore();

        let currentUser = null;
        let isPremiumUser = false;

        // ==================== AUTH ====================
        auth.onAuthStateChanged(async (user) => {
            currentUser = user;
            if (user) {
                document.getElementById('loginSection').classList.add('hidden');
                document.getElementById('userSection').classList.remove('hidden');
                document.getElementById('userName').textContent = user.displayName || user.email;
                document.getElementById('userAvatar').src = user.photoURL || 'https://via.placeholder.com/36';
                await checkPremiumStatus();
            } else {
                document.getElementById('loginSection').classList.remove('hidden');
                document.getElementById('userSection').classList.add('hidden');
                isPremiumUser = false;
                renderAllContent();
            }
        });

        async function loginWithGoogle() {
            const provider = new firebase.auth.GoogleAuthProvider();
            try {
                await auth.signInWithPopup(provider);
            } catch (error) {
                console.error('Errore login:', error);
                alert('Errore durante il login. Riprova.');
            }
        }

        function logout() {
            auth.signOut();
        }

        async function checkPremiumStatus() {
            try {
                const checkPremium = functions.httpsCallable('checkPremium');
                const result = await checkPremium();
                isPremiumUser = result.data.isPremium;
                
                if (isPremiumUser) {
                    document.getElementById('upgradeBtn').classList.add('hidden');
                }
                
                renderAllContent();
            } catch (error) {
                console.error('Errore verifica premium:', error);
                isPremiumUser = false;
                renderAllContent();
            }
        }

        // ==================== UPGRADE ====================
        function showUpgradeModal() {
            if (!currentUser) {
                alert('Effettua il login per abbonarti');
                loginWithGoogle();
                return;
            }
            document.getElementById('upgradeModal').classList.add('active');
        }

        function closeUpgradeModal() {
            document.getElementById('upgradeModal').classList.remove('active');
        }

        async function upgradeToPremium() {
            if (!currentUser) {
                alert('Effettua il login prima di abbonarti');
                loginWithGoogle();
                return;
            }

            try {
                const createCheckout = functions.httpsCallable('createCheckout');
                const result = await createCheckout();
                window.location.href = result.data.url;
            } catch (error) {
                console.error('Errore checkout:', error);
                alert('Errore durante la creazione del checkout. Riprova.');
            }
        }
        // ==================== DATI FREQUENZE ====================
        const frequenzeSolfeggio = [
            {
                id: 1,
                frequenza: "174 Hz",
                nome: "Fondazione",
                descrizione: "Frequenza base per la stabilit√† fisica ed emotiva",
                colore: "#FF6B6B",
                categoria: "solfeggio",
                benefici: ["Riduzione del dolore", "Senso di sicurezza", "Radicamento"],
                isPremium: true,
                tracce: [
                    { nome: "174Hz - Deep Foundation", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/174hz-nature-streams.mp3", durata: "10:00" }
                ]
            },
            {
                id: 2,
                frequenza: "285 Hz",
                nome: "Guarigione",
                descrizione: "Rigenerazione dei tessuti e guarigione energetica",
                colore: "#4ECDC4",
                categoria: "solfeggio",
                benefici: ["Rigenerazione cellulare", "Guarigione ferite", "Rinnovamento"],
                isPremium: true,
                tracce: [
                    { nome: "285Hz - Healing Touch", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/285hz-sacred-flute.mp3", durata: "12:00" }
                ]
            },
            {
                id: 3,
                frequenza: "396 Hz",
                nome: "Liberazione",
                descrizione: "Liberazione da paura e sensi di colpa",
                colore: "#95E1D3",
                categoria: "solfeggio",
                benefici: ["Liberazione paure", "Eliminazione colpa", "Trasformazione"],
                isPremium: true,
                tracce: [
                    { nome: "396Hz - Liberation", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/396hz-crystal-garden.mp3", durata: "15:00" }
                ]
            },
            {
                id: 4,
                frequenza: "417 Hz",
                nome: "Cambiamento",
                descrizione: "Facilitazione del cambiamento e dissoluzione situazioni negative",
                colore: "#F38181",
                categoria: "solfeggio",
                benefici: ["Facilitare cambiamento", "Energia positiva", "Nuovi inizi"],
                isPremium: true,
                tracce: [
                    { nome: "417Hz - Change Frequency", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/417hz-harmonious-bells.mp3", durata: "11:00" }
                ]
            },
            {
                id: 5,
                frequenza: "432 Hz",
                nome: "Armonia Universale",
                descrizione: "La frequenza della natura e dell'universo",
                colore: "#AA96DA",
                categoria: "solfeggio",
                benefici: ["Armonia naturale", "Rilassamento profondo", "Connessione universale"],
                isPremium: false,
                tracce: [
                    { nome: "432Hz - Peaceful Clouds", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/432hz-peaceful-clouds.mp3", durata: "20:00" },
                    { nome: "432Hz - Cosmic Waves", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/432hz-cosmic-waves.mp3", durata: "18:00" },
                    { nome: "432Hz - Ancient Whispers", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/432hz-ancient-whispers.mp3", durata: "22:00", isPremium: true }
                ]
            },
            {
                id: 6,
                frequenza: "528 Hz",
                nome: "Trasformazione e Miracoli",
                descrizione: "Frequenza dell'amore e della riparazione del DNA",
                colore: "#FCBAD3",
                categoria: "solfeggio",
                benefici: ["Riparazione DNA", "Aumento energia vitale", "Trasformazione positiva"],
                isPremium: false,
                tracce: [
                    { nome: "528Hz - Gentle Piano", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/528hz-gentle-piano.mp3", durata: "16:00" },
                    { nome: "528Hz - Heart Opening", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/528hz-heart-opening.mp3", durata: "19:00" },
                    { nome: "528Hz - DNA Repair", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/528hz-dna-repair.mp3", durata: "25:00", isPremium: true }
                ]
            },
            {
                id: 7,
                frequenza: "639 Hz",
                nome: "Connessione e Relazioni",
                descrizione: "Armonizzazione delle relazioni e comunicazione",
                colore: "#A8E6CF",
                categoria: "solfeggio",
                benefici: ["Armonia relazioni", "Comunicazione chiara", "Empatia"],
                isPremium: false,
                tracce: [
                    { nome: "639Hz - Warm Embrace", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/639hz-warm-embrace.mp3", durata: "14:00" },
                    { nome: "639Hz - Harmony Flow", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/639hz-harmony-flow.mp3", durata: "17:00", isPremium: true },
                    { nome: "639Hz - Soul Connection", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/639hz-soul-connection.mp3", durata: "21:00", isPremium: true }
                ]
            },
            {
                id: 8,
                frequenza: "741 Hz",
                nome: "Espressione e Soluzioni",
                descrizione: "Risveglio dell'intuizione e risoluzione problemi",
                colore: "#FFD3B6",
                categoria: "solfeggio",
                benefici: ["Espressione autentica", "Intuizione", "Risoluzione problemi"],
                isPremium: true,
                tracce: [
                    { nome: "741Hz - Intuitive Voice", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/741hz-wind-whispers.mp3", durata: "13:00" }
                ]
            },
            {
                id: 9,
                frequenza: "852 Hz",
                nome: "Risveglio Spirituale",
                descrizione: "Apertura all'ordine spirituale e intuizione elevata",
                colore: "#FFAAA5",
                categoria: "solfeggio",
                benefici: ["Risveglio spirituale", "Intuizione elevata", "Chiarezza mentale"],
                isPremium: true,
                tracce: [
                    { nome: "852Hz - Celestial Harp", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/852hz-celestial-harp.mp3", durata: "18:00" }
                ]
            },
            {
                id: 10,
                frequenza: "963 Hz",
                nome: "Connessione Divina",
                descrizione: "Frequenza della ghiandola pineale e connessione divina",
                colore: "#FF8B94",
                categoria: "solfeggio",
                benefici: ["Connessione divina", "Illuminazione", "Unit√† cosmica"],
                isPremium: true,
                tracce: [
                    { nome: "963Hz - Divine Light", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/963hz-divine-light.mp3", durata: "20:00" }
                ]
            }
        ];

        const frequenzeBinaurali = [
            {
                id: 11,
                frequenza: "Delta (0.5-4 Hz)",
                nome: "Sonno Profondo",
                descrizione: "Onde cerebrali del sonno profondo e rigenerazione",
                colore: "#4A90E2",
                categoria: "binaurale",
                benefici: ["Sonno profondo", "Rigenerazione", "Guarigione"],
                isPremium: false,
                tracce: [
                    { nome: "Delta 2Hz - Deep Sleep", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/delta-2hz-deep-sleep.mp3", durata: "30:00" }
                ]
            },
            {
                id: 12,
                frequenza: "Theta (4-8 Hz)",
                nome: "Meditazione Profonda",
                descrizione: "Stato di meditazione profonda e creativit√†",
                colore: "#7B68EE",
                categoria: "binaurale",
                benefici: ["Meditazione profonda", "Creativit√†", "Intuizione"],
                isPremium: false,
                tracce: [
                    { nome: "Theta 6Hz - Meditation", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/theta-6hz-meditation.mp3", durata: "25:00" }
                ]
            },
            {
                id: 13,
                frequenza: "Alpha (8-13 Hz)",
                nome: "Rilassamento Attivo",
                descrizione: "Stato di rilassamento vigile e apprendimento",
                colore: "#50C878",
                categoria: "binaurale",
                benefici: ["Rilassamento", "Apprendimento", "Focus leggero"],
                isPremium: false,
                tracce: [
                    { nome: "Alpha 10Hz - Relaxation", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/alpha-10hz-relaxation.mp3", durata: "20:00" }
                ]
            },
            {
                id: 14,
                frequenza: "Beta (13-30 Hz)",
                nome: "Concentrazione Attiva",
                descrizione: "Stato di veglia attiva e concentrazione",
                colore: "#FF6347",
                categoria: "binaurale",
                benefici: ["Concentrazione", "Produttivit√†", "Energia mentale"],
                isPremium: false,
                tracce: [
                    { nome: "Beta 20Hz - Focus", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/beta-20hz-focus.mp3", durata: "15:00" }
                ]
            },
            {
                id: 15,
                frequenza: "Gamma (30-100 Hz)",
                nome: "Performance Cognitiva",
                descrizione: "Massima attivit√† cognitiva e insight",
                colore: "#FFD700",
                categoria: "binaurale",
                benefici: ["Performance cognitiva", "Insight", "Lucidit√† mentale"],
                isPremium: false,
                tracce: [
                    { nome: "Gamma 40Hz - Cognition", url: "https://pub-1e1ad610910b4620883d00e6f56e3976.r2.dev/gamma-40hz-cognition.mp3", durata: "12:00" }
                ]
            }
        ];

        const applicazioni = [
            {
                id: 16,
                nome: "Sonno Profondo & Riposo",
                descrizione: "Combinazioni per un riposo rigenerante",
                colore: "#6C5CE7",
                categoria: "applicazione",
                benefici: ["Addormentamento rapido", "Sonno profondo", "Risveglio riposato"],
                isPremium: true,
                tracce: [
                    { nome: "Sleep Protocol - 60min", url: "#", durata: "60:00" },
                    { nome: "Power Nap - 20min", url: "#", durata: "20:00" }
                ]
            },
            {
                id: 17,
                nome: "Focus & Produttivit√†",
                descrizione: "Massima concentrazione per studio e lavoro",
                colore: "#00B894",
                categoria: "applicazione",
                benefici: ["Concentrazione sostenuta", "Produttivit√† elevata", "Chiarezza mentale"],
                isPremium: true,
                tracce: [
                    { nome: "Deep Work - 90min", url: "#", durata: "90:00" },
                    { nome: "Quick Focus - 25min", url: "#", durata: "25:00" }
                ]
            },
            {
                id: 18,
                nome: "Meditazione & Mindfulness",
                descrizione: "Stati meditativi profondi",
                colore: "#FDCB6E",
                categoria: "applicazione",
                benefici: ["Meditazione profonda", "Presenza", "Pace interiore"],
                isPremium: true,
                tracce: [
                    { nome: "Mindfulness Journey - 30min", url: "#", durata: "30:00" },
                    { nome: "Inner Peace - 45min", url: "#", durata: "45:00" }
                ]
            }
        ];

        // ==================== RENDER FUNCTIONS ====================
        function renderAllContent() {
            renderSolfeggio();
            renderBinaurali();
            renderApplicazioni();
        }

        function renderSolfeggio() {
            const grid = document.getElementById('solfeggioGrid');
            grid.innerHTML = frequenzeSolfeggio.map(freq => {
                const hasFreeTrack = freq.tracce.some(t => !t.isPremium);
                const isCardLocked = freq.isPremium && !isPremiumUser && !hasFreeTrack;
                
                return `
                    <div class="frequency-card ${isCardLocked ? 'premium-locked' : ''}" 
                         ${isCardLocked ? 'onclick="showUpgradeModal()"' : ''}>
                        <div class="card-header">
                            <div class="card-title">${freq.frequenza}</div>
                            <div class="card-description">${freq.descrizione}</div>
                        </div>
                        <div class="track-list">
                            ${freq.tracce.map(track => {
                                const canPlay = !track.isPremium || isPremiumUser;
                                return `
                                    <div class="track-item">
                                        <span class="track-name">${track.nome} ${track.isPremium ? '‚≠ê' : ''}</span>
                                        ${canPlay ? `
                                            <button class="btn-play" onclick="playTrack('${track.url}', '${track.nome}')">
                                                ‚ñ∂ Play
                                            </button>
                                        ` : ''}
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderBinaurali() {
            const grid = document.getElementById('binauraliGrid');
            grid.innerHTML = frequenzeBinaurali.map(freq => `
                <div class="frequency-card">
                    <div class="card-header">
                        <div class="card-title">${freq.frequenza}</div>
                        <div class="card-description">${freq.descrizione}</div>
                    </div>
                    <div class="track-list">
                        ${freq.tracce.map(track => `
                            <div class="track-item">
                                <span class="track-name">${track.nome}</span>
                                <button class="btn-play" onclick="playTrack('${track.url}', '${track.nome}')">
                                    ‚ñ∂ Play
                                </button>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function renderApplicazioni() {
            const grid = document.getElementById('applicazioniGrid');
            const isLocked = !isPremiumUser;
            
            grid.innerHTML = applicazioni.map(app => `
                <div class="frequency-card ${isLocked ? 'premium-locked' : ''}" 
                     ${isLocked ? 'onclick="showUpgradeModal()"' : ''}>
                    <div class="card-header">
                        <div class="card-title">${app.nome}</div>
                        <div class="card-description">${app.descrizione}</div>
                    </div>
                    ${!isLocked ? `
                        <div class="track-list">
                            ${app.tracce.map(track => `
                                <div class="track-item">
                                    <span class="track-name">${track.nome}</span>
                                    <button class="btn-play" onclick="alert('Traccia in arrivo!')">
                                        ‚ñ∂ Play
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        // ==================== PLAYER ====================
        const player = document.getElementById('audioPlayer');

        function playTrack(url, name) {
            if (url === '#') {
                alert('Traccia in arrivo!');
                return;
            }
            player.src = url;
            player.play();
            document.getElementById('player').classList.add('active');
            document.getElementById('nowPlaying').textContent = `‚ñ∂ ${name}`;
        }

        function stopPlayer() {
            player.pause();
            player.currentTime = 0;
            document.getElementById('player').classList.remove('active');
        }

        // ==================== TABS ====================
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // ==================== INIT ====================
        renderAllContent();
    </script>
</body>
</html>
