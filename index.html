<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tune In - Radio Frequency Converter</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const Play = (props) => (
          <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
        );
        const Pause = (props) => (
          <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
        );
        const RotateCcw = (props) => (
          <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg>
        );
        const Volume2 = (props) => (
          <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path><path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path></svg>
        );
        const Info = (props) => (
          <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
        );

        function TuneIn() {
          const [frequency, setFrequency] = React.useState(90.0);
          const [isPlaying, setIsPlaying] = React.useState(false);
          const [currentTime, setCurrentTime] = React.useState(0);
          const [duration, setDuration] = React.useState(0);
          const [volume, setVolume] = React.useState(0.7);
          const [showInfo, setShowInfo] = React.useState(false);
          const audioRef = React.useRef(null);
          const AUDIO_URL = https://github.com/alessandromacco/tunein-app-/releases/download/v1.0/Track.mp3
          const FM_MIN = 88.0;
          const FM_MAX = 108.0;
          const AUDIO_DURATION_MINUTES = 60;
          
          React.useEffect(() => {
            if (audioRef.current) audioRef.current.volume = volume;
          }, [volume]);
          
          const frequencyToTime = (freq) => {
            const normalized = (freq - FM_MIN) / (FM_MAX - FM_MIN);
            return normalized * AUDIO_DURATION_MINUTES * 60;
          };
          
          const timeToFrequency = (time) => {
            const normalized = time / (AUDIO_DURATION_MINUTES * 60);
            return FM_MIN + normalized * (FM_MAX - FM_MIN);
          };
          
          const handleFrequencyChange = (newFreq) => {
            const clampedFreq = Math.max(FM_MIN, Math.min(FM_MAX, newFreq));
            setFrequency(clampedFreq);
            if (audioRef.current) {
              const newTime = frequencyToTime(clampedFreq);
              audioRef.current.currentTime = newTime;
              setCurrentTime(newTime);
            }
          };
          
          const handlePlayPause = () => {
            if (audioRef.current) {
              if (isPlaying) {
                audioRef.current.pause();
              } else {
                audioRef.current.play();
              }
              setIsPlaying(!isPlaying);
            }
          };
          
          const handleReset = () => {
            setFrequency(90.0);
            if (audioRef.current) {
              const resetTime = frequencyToTime(90.0);
              audioRef.current.currentTime = resetTime;
              setCurrentTime(resetTime);
            }
          };
          
          const handleTimeUpdate = () => {
            if (audioRef.current) {
              const time = audioRef.current.currentTime;
              setCurrentTime(time);
              const newFreq = timeToFrequency(time);
              setFrequency(newFreq);
            }
          };
          
          const handleLoadedMetadata = () => {
            if (audioRef.current) {
              setDuration(audioRef.current.duration);
              const initialTime = frequencyToTime(frequency);
              audioRef.current.currentTime = initialTime;
              setCurrentTime(initialTime);
            }
          };
          
          const formatTime = (seconds) => {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
          };
          
          const getFrequencyColor = (freq) => {
            const hue = ((freq - FM_MIN) / (FM_MAX - FM_MIN)) * 280;
            return `hsl(${hue}, 70%, 50%)`;
          };
          
          return (
            <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4">
              <div className="w-full max-w-2xl">
                <div className="bg-black/40 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/10">
                  <div className="text-center mb-8">
                    <h1 className="text-5xl font-bold text-white mb-2 tracking-tight">Tune In</h1>
                    <p className="text-purple-300 text-lg">Radio Frequency Converter</p>
                  </div>
                  <div className="relative mb-8">
                    <div className="text-center py-8 rounded-2xl bg-gradient-to-r from-purple-500/20 to-pink-500/20 border-2 transition-all duration-300"
                         style={{ borderColor: getFrequencyColor(frequency) }}>
                      <div className="text-7xl font-bold text-white mb-2 tracking-tighter">{frequency.toFixed(1)}</div>
                      <div className="text-xl text-purple-200">MHz FM</div>
                    </div>
                  </div>
                  <div className="mb-8">
                    <input type="range" min={FM_MIN} max={FM_MAX} step="0.1" value={frequency}
                           onChange={(e) => handleFrequencyChange(parseFloat(e.target.value))}
                           className="w-full h-3 rounded-lg appearance-none cursor-pointer"
                           style={{ background: 'linear-gradient(to right, hsl(0, 70%, 50%) 0%, hsl(60, 70%, 50%) 25%, hsl(120, 70%, 50%) 50%, hsl(200, 70%, 50%) 75%, hsl(280, 70%, 50%) 100%)' }} />
                    <div className="flex justify-between text-sm text-purple-300 mt-2">
                      <span>{FM_MIN} MHz</span>
                      <span>{FM_MAX} MHz</span>
                    </div>
                  </div>
                  <div className="flex gap-2 mb-8 justify-center">
                    <button onClick={() => handleFrequencyChange(frequency - 0.1)}
                            className="px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all">-0.1</button>
                    <button onClick={() => handleFrequencyChange(frequency + 0.1)}
                            className="px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all">+0.1</button>
                  </div>
                  <div className="flex items-center gap-4 mb-6">
                    <button onClick={handlePlayPause}
                            className="flex-shrink-0 w-16 h-16 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center hover:scale-110 transition-transform shadow-lg">
                      {isPlaying ? <Pause className="w-8 h-8 text-white" fill="white" /> : <Play className="w-8 h-8 text-white ml-1" fill="white" />}
                    </button>
                    <button onClick={handleReset}
                            className="flex-shrink-0 w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all">
                      <RotateCcw className="w-5 h-5 text-white" />
                    </button>
                    <div className="flex-1 flex items-center gap-3">
                      <Volume2 className="w-5 h-5 text-purple-300 flex-shrink-0" />
                      <input type="range" min="0" max="1" step="0.01" value={volume}
                             onChange={(e) => setVolume(parseFloat(e.target.value))}
                             className="flex-1 h-2 rounded-lg appearance-none cursor-pointer bg-white/20" />
                    </div>
                    <button onClick={() => setShowInfo(!showInfo)}
                            className="flex-shrink-0 w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all">
                      <Info className="w-5 h-5 text-white" />
                    </button>
                  </div>
                  <div className="mb-4">
                    <div className="w-full h-2 bg-white/10 rounded-full overflow-hidden">
                      <div className="h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300"
                           style={{ width: `${(currentTime / duration) * 100}%` }} />
                    </div>
                    <div className="flex justify-between text-sm text-purple-300 mt-2">
                      <span>{formatTime(currentTime)}</span>
                      <span>{formatTime(duration)}</span>
                    </div>
                  </div>
                  {showInfo && (
                    <div className="mt-6 p-6 bg-white/5 rounded-xl border border-white/10">
                      <h3 className="text-white font-semibold mb-3 text-lg">How it works</h3>
                      <ul className="text-purple-200 space-y-2 text-sm leading-relaxed">
                        <li>• Move the slider or use buttons to change frequency</li>
                        <li>• Each frequency (88.0-108.0 MHz) corresponds to a moment in the audio</li>
                        <li>• The audio plays continuously as you tune through frequencies</li>
                        <li>• Press Reset to return to 90.0 MHz</li>
                      </ul>
                    </div>
                  )}
                </div>
                <div className="text-center mt-6 text-purple-300/60 text-sm">Tune In © 2025 - Explore the FM spectrum</div>
              </div>
              <audio ref={audioRef} src={AUDIO_URL} onTimeUpdate={handleTimeUpdate} onLoadedMetadata={handleLoadedMetadata} onEnded={() => setIsPlaying(false)} preload="metadata" />
              <style>{`
                input[type="range"]::-webkit-slider-thumb { appearance: none; width: 24px; height: 24px; border-radius: 50%; background: white; cursor: pointer; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); }
                input[type="range"]::-moz-range-thumb { width: 24px; height: 24px; border-radius: 50%; background: white; cursor: pointer; border: none; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); }
              `}</style>
            </div>
          );
        }
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TuneIn />);
    </script>
</body>
</html>Fix icons - working versionUpdate audio URL
